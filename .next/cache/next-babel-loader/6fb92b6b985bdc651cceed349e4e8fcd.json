{"ast":null,"code":"import connectDB from '../../../utils/connectDB';\nimport User from '../../../models/userModel';\nimport validate from '../../../utils/validate';\nconnectDB();\n\nconst register = async (req, res) => {\n  try {\n    // Tangkap request dari form\n    const {\n      name,\n      email,\n      password,\n      password2\n    } = req.body; // Validasi ulang\n\n    const errMsg = validate(name, email, password, password2);\n    if (errMsg) return res.status(400).json({\n      err: errMsg\n    });\n    const user = await User.findOne({\n      email\n    });\n    console.log(user);\n  } catch (err) {\n    return res.status(500).json({\n      err: err.message\n    });\n  }\n};\n\nexport default (async (req, res) => {\n  switch (req.method) {\n    case \"POST\":\n      register(req, res);\n\n    default:\n      return null;\n  }\n});","map":{"version":3,"sources":["/home/zuares/Documents/Project/ZCommerce/pages/api/auth/register.js"],"names":["connectDB","User","validate","register","req","res","name","email","password","password2","body","errMsg","status","json","err","user","findOne","console","log","message","method"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,0BAAtB;AACA,OAAOC,IAAP,MAAiB,2BAAjB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AAEAF,SAAS;;AAET,MAAMG,QAAQ,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,MAAI;AACA;AACA,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA,KAAR;AAAeC,MAAAA,QAAf;AAAyBC,MAAAA;AAAzB,QAAuCL,GAAG,CAACM,IAAjD,CAFA,CAIA;;AACA,UAAMC,MAAM,GAAGT,QAAQ,CAACI,IAAD,EAAOC,KAAP,EAAcC,QAAd,EAAwBC,SAAxB,CAAvB;AACA,QAAIE,MAAJ,EACI,OAAON,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,GAAG,EAAEH;AAAP,KAArB,CAAP;AAEJ,UAAMI,IAAI,GAAG,MAAMd,IAAI,CAACe,OAAL,CAAa;AAAET,MAAAA;AAAF,KAAb,CAAnB;AACAU,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AAKH,GAfD,CAeE,OAAOD,GAAP,EAAY;AACV,WAAOT,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,GAAG,EAAEA,GAAG,CAACK;AAAX,KAArB,CAAP;AACH;AACJ,CAnBD;;AAsBA,gBAAe,OAAOf,GAAP,EAAYC,GAAZ,KAAoB;AAC/B,UAAQD,GAAG,CAACgB,MAAZ;AACI,SAAK,MAAL;AACIjB,MAAAA,QAAQ,CAACC,GAAD,EAAMC,GAAN,CAAR;;AACJ;AACI,aAAO,IAAP;AAJR;AAMH,CAPD","sourcesContent":["import connectDB from '../../../utils/connectDB'\nimport User from '../../../models/userModel'\nimport validate from '../../../utils/validate'\n\nconnectDB()\n\nconst register = async (req, res) => {\n    try {\n        // Tangkap request dari form\n        const { name, email, password, password2 } = req.body\n\n        // Validasi ulang\n        const errMsg = validate(name, email, password, password2)\n        if (errMsg)\n            return res.status(400).json({ err: errMsg })\n\n        const user = await User.findOne({ email })\n        console.log(user);\n\n\n\n\n    } catch (err) {\n        return res.status(500).json({ err: err.message })\n    }\n}\n\n\nexport default async (req, res) => {\n    switch (req.method) {\n        case \"POST\":\n            register(req, res)\n        default:\n            return null\n    }\n}"]},"metadata":{},"sourceType":"module"}