{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/zuares/Documents/Project/ZCommerce/components/molecules/Button/PayButton.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from 'react';\nimport { postData } from '../../../utils/fetchData';\n\nfunction PayButton(_ref) {\n  _s();\n\n  var total = _ref.total,\n      address = _ref.address,\n      mobile = _ref.mobile,\n      state = _ref.state,\n      dispatch = _ref.dispatch;\n  var refPayBtn = useRef();\n  var cart = state.cart,\n      auth = state.auth,\n      order = state.order;\n  useEffect(function () {\n    paypal.Buttons({\n      createOrder: function createOrder(data, actions) {\n        // This function sets up the details of the transaction, including the amount and line item details.\n        return actions.order.create({\n          purchase_units: [{\n            amount: {\n              value: '0.01'\n            }\n          }]\n        });\n      },\n      onApprove: function onApprove(data, actions) {\n        // This function captures the funds from the transaction.\n        return actions.order.capture().then(function (details) {\n          // This function shows a transaction success message to your buyer.\n          // postData('order', { address, mobile, cart, total }, auth.access_token)\n          //     .then(res => {\n          //         if (res.err) return dispatch({ type: \"NOTIFY\", payload: { msg: { err: res.err } } })\n          //         dispatch({ type: \"CART\", payload: [] })\n          //         const newOrder = {\n          //             ...res.newOrder,\n          //             user: auth.user\n          //         }\n          //         dispatch({ type: \"ORDER\", payload: [...order, newOrder] })\n          //         dispatch({ type: \"NOTIFY\", payload: { msg: { success: res.msg } } })\n          //     })\n          alert('Transaction completed by ' + details.payer.name.given_name);\n        });\n      }\n    }).render(refPayBtn.current);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: refPayBtn\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PayButton, \"DYSa/WZvCbLJS2mWyAAymg0B6g4=\");\n\n_c = PayButton;\nexport default PayButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"PayButton\");","map":{"version":3,"sources":["/home/zuares/Documents/Project/ZCommerce/components/molecules/Button/PayButton.js"],"names":["React","useEffect","useRef","postData","PayButton","total","address","mobile","state","dispatch","refPayBtn","cart","auth","order","paypal","Buttons","createOrder","data","actions","create","purchase_units","amount","value","onApprove","capture","then","details","alert","payer","name","given_name","render","current"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,SAASC,QAAT,QAAyB,0BAAzB;;AAEA,SAASC,SAAT,OAAgE;AAAA;;AAAA,MAA3CC,KAA2C,QAA3CA,KAA2C;AAAA,MAApCC,OAAoC,QAApCA,OAAoC;AAAA,MAA3BC,MAA2B,QAA3BA,MAA2B;AAAA,MAAnBC,KAAmB,QAAnBA,KAAmB;AAAA,MAAZC,QAAY,QAAZA,QAAY;AAC5D,MAAMC,SAAS,GAAGR,MAAM,EAAxB;AAD4D,MAEpDS,IAFoD,GAE9BH,KAF8B,CAEpDG,IAFoD;AAAA,MAE9CC,IAF8C,GAE9BJ,KAF8B,CAE9CI,IAF8C;AAAA,MAExCC,KAFwC,GAE9BL,KAF8B,CAExCK,KAFwC;AAG5DZ,EAAAA,SAAS,CAAC,YAAM;AACZa,IAAAA,MAAM,CAACC,OAAP,CAAe;AACXC,MAAAA,WAAW,EAAE,qBAAUC,IAAV,EAAgBC,OAAhB,EAAyB;AAClC;AACA,eAAOA,OAAO,CAACL,KAAR,CAAcM,MAAd,CAAqB;AACxBC,UAAAA,cAAc,EAAE,CAAC;AACbC,YAAAA,MAAM,EAAE;AACJC,cAAAA,KAAK,EAAE;AADH;AADK,WAAD;AADQ,SAArB,CAAP;AAOH,OAVU;AAWXC,MAAAA,SAAS,EAAE,mBAAUN,IAAV,EAAgBC,OAAhB,EAAyB;AAChC;AACA,eAAOA,OAAO,CAACL,KAAR,CAAcW,OAAd,GAAwBC,IAAxB,CAA6B,UAAUC,OAAV,EAAmB;AACnD;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAC,UAAAA,KAAK,CAAC,8BAA8BD,OAAO,CAACE,KAAR,CAAcC,IAAd,CAAmBC,UAAlD,CAAL;AACH,SAhBM,CAAP;AAiBH;AA9BU,KAAf,EA+BGC,MA/BH,CA+BUrB,SAAS,CAACsB,OA/BpB;AAiCH,GAlCQ,EAkCN,EAlCM,CAAT;AAmCA,sBACI;AAAK,IAAA,GAAG,EAAEtB;AAAV;AAAA;AAAA;AAAA;AAAA,UADJ;AAGH;;GAzCQN,S;;KAAAA,S;AA2CT,eAAeA,SAAf","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { postData } from '../../../utils/fetchData';\n\nfunction PayButton({ total, address, mobile, state, dispatch }) {\n    const refPayBtn = useRef()\n    const { cart, auth, order } = state\n    useEffect(() => {\n        paypal.Buttons({\n            createOrder: function (data, actions) {\n                // This function sets up the details of the transaction, including the amount and line item details.\n                return actions.order.create({\n                    purchase_units: [{\n                        amount: {\n                            value: '0.01'\n                        }\n                    }]\n                });\n            },\n            onApprove: function (data, actions) {\n                // This function captures the funds from the transaction.\n                return actions.order.capture().then(function (details) {\n                    // This function shows a transaction success message to your buyer.\n                    // postData('order', { address, mobile, cart, total }, auth.access_token)\n                    //     .then(res => {\n                    //         if (res.err) return dispatch({ type: \"NOTIFY\", payload: { msg: { err: res.err } } })\n\n                    //         dispatch({ type: \"CART\", payload: [] })\n                    //         const newOrder = {\n                    //             ...res.newOrder,\n                    //             user: auth.user\n                    //         }\n                    //         dispatch({ type: \"ORDER\", payload: [...order, newOrder] })\n                    //         dispatch({ type: \"NOTIFY\", payload: { msg: { success: res.msg } } })\n                    //     })\n\n                    alert('Transaction completed by ' + details.payer.name.given_name);\n                });\n            }\n        }).render(refPayBtn.current);\n\n    }, []);\n    return (\n        <div ref={refPayBtn} ></div>\n    );\n}\n\nexport default PayButton;"]},"metadata":{},"sourceType":"module"}